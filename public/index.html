<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>æˆ‘çš„å…¨æ ˆç³»ç»Ÿ</title>
    <style>
        /* CSSï¼šè®©ç•Œé¢å¥½çœ‹ä¸€ç‚¹ */
        body { 
            font-family: Arial, sans-serif; 
            text-align: center; 
            background-color: #f4f4f9;
            padding: 50px;
        }
        .card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            display: inline-block;
            min-width: 200px;
        }
        button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 15px;
        }
        button:hover { background-color: #0056b3; }
        #info { margin-top: 20px; color: #333; font-weight: bold; }
    </style>
</head>
<body>

    <div class="card">
        <h1>å…¨æ ˆæ§åˆ¶å°</h1>
        <button onclick="fetchUserData()">è·å–åç«¯æ•°æ®</button>
        <div id="info">ç­‰å¾…è¯·æ±‚...</div>
    </div>

    <script>
        // å‰ç«¯ JavaScriptï¼šè´Ÿè´£å’Œåç«¯â€œæ‰“ç”µè¯â€
        function fetchUserData() {
            const infoDiv = document.getElementById('info');
            infoDiv.innerText = "æ­£åœ¨è¿æ¥æœåŠ¡å™¨...";

            // ä½¿ç”¨ fetch å‘æˆ‘ä»¬åˆšæ‰åœ¨ server.js å®šä¹‰çš„è·¯ç”±å‘è¯·æ±‚
            fetch('/api/user')
                .then(response => {
                    if (!response.ok) throw new Error('ç½‘ç»œå“åº”é”™è¯¯');
                    return response.json(); // æŠŠæ”¶åˆ°çš„æ•°æ®è½¬æˆ JSON å¯¹è±¡
                })
                .then(data => {
                    // æŠŠæ•°æ®æ˜¾ç¤ºåœ¨ç½‘é¡µä¸Š
                    infoDiv.innerHTML = `
                        <p>ğŸ‘¤ ç”¨æˆ·åï¼š${data.name}</p>
                        <p>â­ ç­‰çº§ï¼š${data.level}</p>
                        <p>ğŸ“ çŠ¶æ€ï¼š${data.status}</p>
                    `;
                })
                .catch(error => {
                    infoDiv.innerText = "é”™è¯¯: " + error.message;
                });
        }
    </script>
</body>
</html>